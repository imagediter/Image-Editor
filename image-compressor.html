<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Compressor Tool</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
:root{
  --blue:#0077ff;
  --light:#f3f9ff;
  --border:#dbeafe;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Arial;}
body{
  background:linear-gradient(135deg,#e6f3ff,#ffffff);
  padding:15px;
}
.container{
  max-width:1200px;
  margin:auto;
}
header{
  text-align:center;
  margin-bottom:25px;
}
header h1{
  color:var(--blue);
  font-size:2.4rem;
}
header p{
  color:#555;
  max-width:800px;
  margin:auto;
}
.tool{
  background:#fff;
  border-radius:14px;
  padding:25px;
  box-shadow:0 12px 30px rgba(0,119,255,.15);
}
.upload{
  border:3px dashed var(--blue);
  padding:40px 15px;
  text-align:center;
  border-radius:12px;
  cursor:pointer;
  background:var(--light);
}
.upload.drag{
  background:#dbeafe;
}
.upload i{
  font-size:55px;
  color:var(--blue);
  margin-bottom:10px;
}
.upload h3{color:var(--blue);}
input[type=file]{display:none}
.controls{
  display:flex;
  gap:20px;
  margin:25px 0;
  flex-wrap:wrap;
}
.control{
  flex:1;
  min-width:220px;
}
.control label{
  font-weight:600;
  color:var(--blue);
}
.control input{
  width:100%;
}
.buttons{
  display:flex;
  gap:15px;
  flex-wrap:wrap;
}
.btn{
  padding:12px 20px;
  border:none;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  display:flex;
  gap:8px;
  align-items:center;
}
.compress{background:var(--blue);color:#fff}
.download{background:#16a34a;color:#fff}
.delete{background:#ef4444;color:#fff}
.images{
  margin-top:25px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:20px;
}
.card{
  background:var(--light);
  border:1px solid var(--border);
  border-radius:12px;
  padding:15px;
}
.card img{
  width:100%;
  height:180px;
  object-fit:contain;
  background:#fff;
  border-radius:8px;
}
.info{
  font-size:14px;
  margin-top:8px;
  display:flex;
  justify-content:space-between;
}
.card-actions{
  display:flex;
  gap:8px;
  margin-top:10px;
}
.card-actions button{
  flex:1;
  border:none;
  padding:8px;
  border-radius:6px;
  cursor:pointer;
}
.progress{
  height:6px;
  background:#cce0ff;
  border-radius:4px;
  overflow:hidden;
  margin-top:8px;
}
.progress span{
  display:block;
  height:100%;
  width:0;
  background:var(--blue);
}
@media(max-width:600px){
  header h1{font-size:1.8rem}
}
</style>
</head>
<body>
<div class="container">
<header>
<h1>Image Compressor</h1>
<p>Compress images online to reduce file size while maintaining quality. Fully secure & browser-based.</p>
</header>
<div class="tool">
<div class="upload" id="upload">
<i class="fas fa-cloud-upload-alt"></i>
<h3>Drag & Drop Images</h3>
<p>or click to browse (Max 10 images)</p>
<input type="file" id="file" multiple accept="image/*">
</div>
<div class="controls">
<div class="control">
<label>Quality (<span id="qv">70</span>%)</label>
<input type="range" min="10" max="100" value="70" id="quality">
</div>
<div class="control">
<label>Target Size (<span id="sv">100</span> KB)</label>
<input type="range" min="10" max="500" value="100" id="size">
</div>
</div>
<div class="buttons">
<button class="btn compress" id="compressAll"><i class="fas fa-compress"></i>Compress All</button>
<button class="btn download" id="downloadAll"><i class="fas fa-download"></i>Download All</button>
<button class="btn delete" id="deleteAll"><i class="fas fa-trash"></i>Delete All</button>
</div>
<div class="images" id="images"></div>
</div>
</div>
<script>
const upload=document.getElementById("upload");
const fileInput=document.getElementById("file");
const imagesBox=document.getElementById("images");
const quality=document.getElementById("quality");
const size=document.getElementById("size");
const qv=document.getElementById("qv");
const sv=document.getElementById("sv");
let images=[];
qv.textContent=quality.value;
sv.textContent=size.value;
quality.oninput=()=>qv.textContent=quality.value;
size.oninput=()=>sv.textContent=size.value;
upload.onclick=()=>fileInput.click();
upload.ondragover=e=>{e.preventDefault();upload.classList.add("drag")}
upload.ondragleave=()=>upload.classList.remove("drag")
upload.ondrop=e=>{
e.preventDefault();
upload.classList.remove("drag");
handleFiles(e.dataTransfer.files);
};
fileInput.onchange=e=>handleFiles(e.target.files);
function handleFiles(files){
[...files].slice(0,10).forEach(file=>{
if(!file.type.startsWith("image"))return;
const reader=new FileReader();
reader.onload=e=>{
images.push({file,data:e.target.result,compressed:null});
render();
};
reader.readAsDataURL(file);
});
fileInput.value="";
}
function render(){
imagesBox.innerHTML="";
images.forEach((img,i)=>{
const card=document.createElement("div");
card.className="card";
card.innerHTML=`
<img src="${img.data}">
<div class="info"><span>${img.file.name}</span><span>${(img.file.size/1024).toFixed(1)} KB</span></div>
<div class="progress"><span></span></div>
<div class="card-actions">
<button onclick="compress(${i})">Compress</button>
<button onclick="download(${i})">Download</button>
<button onclick="remove(${i})">Delete</button>
</div>`;
imagesBox.appendChild(card);
});
}
function compress(i){
const img=images[i];
const canvas=document.createElement("canvas");
const ctx=canvas.getContext("2d");
const image=new Image();
image.onload=()=>{
canvas.width=image.width;
canvas.height=image.height;
ctx.drawImage(image,0,0);
let q=quality.value/100;
let data,sizeTarget=size.value*1024,blob;
do{
data=canvas.toDataURL("image/jpeg",q);
blob=Math.round(data.length*3/4);
q-=0.05;
}while(blob>sizeTarget && q>0.1);
img.compressed=data;
render();
};
image.src=img.data;
}
function download(i){
const img=images[i];
if(!img.compressed)return;
const a=document.createElement("a");
a.href=img.compressed;
a.download="compressed_"+img.file.name;
a.click();
}
function remove(i){
images.splice(i,1);
render();
}
document.getElementById("compressAll").onclick=()=>images.forEach((_,i)=>compress(i));
document.getElementById("downloadAll").onclick=()=>images.forEach((_,i)=>download(i));
document.getElementById("deleteAll").onclick=()=>{images=[];render()};
</script>
</body>
</html>
